# ğŸš€ Nexus Enterprise Suite (Nexus ERP)

**Nexus Enterprise Suite** æ˜¯ä¸€æ¬¾åŸºæ–¼ Django 6.0 å’Œ Unfold Admin æ¡†æ¶æ‰“é€ çš„ç¾ä»£åŒ–ã€æ¨¡çµ„åŒ–ä¼æ¥­ç®¡ç†ç³»çµ±ã€‚å®ƒæ·±åº¦æ•´åˆäº†å®¢æˆ¶é—œä¿‚ç®¡ç†ï¼ˆCRMï¼‰ã€è²¡å‹™ï¼ˆFinanceï¼‰å’ŒäººåŠ›è³‡æºï¼ˆHRï¼‰ä¸‰å¤§æ ¸å¿ƒæ¥­å‹™ï¼Œæ—¨åœ¨æä¾›æ¥µè‡´çš„æ•¸æ“šå¯è¦–åŒ–èˆ‡æµæš¢çš„æ“ä½œé«”é©—ã€‚

---

## ğŸŒŸ æ ¸å¿ƒäº®é»

- **å„ªé›…çš„ UI/UX**: å€ŸåŠ© Unfold Adminï¼Œæä¾›éŸ¿æ‡‰å¼ã€æ”¯æ´æ·±è‰²æ¨¡å¼ã€é«˜åº¦å¯è‡ªè¨‚çš„ç®¡ç†ä»‹é¢ã€‚
- **æ¨¡çµ„åŒ–æ¶æ§‹**: æ¥­å‹™é‚è¼¯è¢«æ¸…æ™°åœ°åŠƒåˆ†åˆ°ç¨ç«‹çš„ Django Apps (`crm`, `finance`, `hr`) ä¸­ï¼Œæ˜“æ–¼ç¶­è­·èˆ‡æ“´å……ã€‚
- **æ•¸æ“šé©…å‹•**: å…§å»ºæ•¸æ“šçµ±è¨ˆèˆ‡å¯è¦–åŒ–åŠŸèƒ½ï¼Œä¾‹å¦‚åœ¨ CRM åˆ—è¡¨ä¸­å‹•æ…‹é¡¯ç¤ºçš„çµ±è¨ˆå¡ç‰‡ï¼Œå¹«åŠ©åœ˜éšŠå¿«é€Ÿæ´å¯Ÿæ¥­å‹™ç‹€æ³ã€‚
- **é«˜æ•ˆèƒ½è¨­è¨ˆ**: å¾æ¶æ§‹å±¤é¢è§£æ±º N+1 æŸ¥è©¢å•é¡Œï¼Œä¸¦æ•´åˆ Redis é€²è¡Œå¿«å–ï¼Œç¢ºä¿ç³»çµ±åœ¨é«˜è² è¼‰ä¸‹ä¾ç„¶æµæš¢ã€‚
- **é–‹ç™¼è€…å‹å¥½**: æä¾›åŸºæ–¼ Docker çš„ä¸€éµå•Ÿå‹•ç’°å¢ƒã€æ¸…æ™°çš„æ—¥èªŒç›£æ§å’Œç°¡æ½”çš„ç¨‹å¼ç¢¼çµæ§‹ã€‚

---

## ğŸ›  æŠ€è¡“æ£§

| å±¤ç´š       | æŠ€è¡“æ–¹æ¡ˆ                                         |
| :--------- | :----------------------------------------------- |
| **å¾Œç«¯**   | Django 5.0 (Python 3.12), Django Rest Framework  |
| **å‰ç«¯**   | Django Unfold (åŸºæ–¼ Tailwind CSS), Chart.js      |
| **è³‡æ–™åº«** | PostgreSQL (é—œè¯å¼æ•¸æ“š), Redis (å¿«å–/Session)    |
| **DevOps** | Docker, Docker Compose, GitHub Actions (CI/CD)   |
| **å·¥å…·**   | `uv` (å¥—ä»¶ç®¡ç†), `django-environ` (ç’°å¢ƒè®Šæ•¸é…ç½®) |

---

## ğŸ“‚ å°ˆæ¡ˆçµæ§‹

æœ¬å°ˆæ¡ˆéµå¾ªã€Œé—œæ³¨é»åˆ†é›¢ã€çš„åŸå‰‡ï¼Œå°‡ Django æ‡‰ç”¨ç¨‹å¼ç¢¼ã€å®¹å™¨è¨­å®šã€éƒ¨ç½²æª”æ¡ˆå’ŒæŒä¹…åŒ–æ•¸æ“šæ˜ç¢ºåœ°åˆ†é–‹å­˜æ”¾ã€‚

```
company-suite/
â”œâ”€â”€ ğŸ“„ .env                 # ç’°å¢ƒè®Šæ•¸è¨­å®šæª” (æœ¬åœ°)
â”œâ”€â”€ ğŸ³ docker-compose.yml   # Docker å®¹å™¨ç·¨æ’
â”œâ”€â”€ ğŸ“ app/                 # ã€æ ¸å¿ƒã€‘Django æ‡‰ç”¨ç¨‹å¼ç¢¼
â”‚   â”œâ”€â”€ ğŸ“ apps/            # æ¥­å‹™æ¨¡çµ„ (CRM, Finance, HR)
â”‚   â”œâ”€â”€ ğŸ“ core/            # å°ˆæ¡ˆæ ¸å¿ƒè¨­å®š (settings.py)
â”‚   â”œâ”€â”€ ğŸ“ static/          # å…¨åŸŸéœæ…‹æª”æ¡ˆ
â”‚   â”œâ”€â”€ ğŸ“ templates/       # å…¨åŸŸæ¨¡æ¿
â”‚   â””â”€â”€ ğŸ“„ manage.py        # Django ç®¡ç†å‘½ä»¤
â”œâ”€â”€ ğŸ“ data/                # ã€æ•¸æ“šã€‘æŒä¹…åŒ–æ•¸æ“š (PostgreSQL, Redis)
â”œâ”€â”€ ğŸ“ deploy/              # ã€éƒ¨ç½²ã€‘éƒ¨ç½²ç›¸é—œè¨­å®š (Nginx)
â”œâ”€â”€ ğŸ“ logs/                # ã€æ—¥èªŒã€‘æ‡‰ç”¨ç¨‹å¼æ—¥èªŒ
â””â”€â”€ ğŸ“„ README.md            # å°ˆæ¡ˆèªªæ˜æ–‡ä»¶
```

---

## ğŸš¦ å®‰è£èˆ‡å•Ÿå‹•

æœ¬å°ˆæ¡ˆæ¡ç”¨ Docker é€²è¡Œå®¹å™¨åŒ–ï¼Œæ¥µå¤§ç°¡åŒ–äº†ç’°å¢ƒè¨­å®šçš„è¤‡é›œåº¦ã€‚

### 1. ç’°å¢ƒæº–å‚™

è«‹ç¢ºä¿æ‚¨çš„é›»è…¦å·²å®‰è£æœ€æ–°ç‰ˆæœ¬çš„ **Docker** å’Œ **Docker Compose**ã€‚

### 2. è¨­å®šç’°å¢ƒè®Šæ•¸

å°ˆæ¡ˆçš„æ‰€æœ‰æ•æ„Ÿè¨­å®šï¼ˆå¦‚è³‡æ–™åº«å¯†ç¢¼ã€é‡‘é‘°ï¼‰éƒ½é€é `.env` æª”æ¡ˆç®¡ç†ã€‚

é¦–å…ˆï¼Œè¤‡è£½ç¯„æœ¬æª”æ¡ˆï¼š

```bash
cp .env.example .env
```

æ¥è‘—ï¼Œæ‰“é–‹ `.env` æª”æ¡ˆä¸¦å¡«å¯«ä»¥ä¸‹é—œéµè®Šæ•¸ï¼š

```dotenv
# 1. Django å®‰å…¨é‡‘é‘° (è«‹æ›´æ›ç‚ºä¸€å€‹éš¨æ©Ÿçš„é•·å­—ä¸²)
SECRET_KEY='your-super-secret-key'

# 2. è¨­å®šç‚º True ä»¥å•Ÿç”¨è©³ç´°éŒ¯èª¤é é¢å’Œé™¤éŒ¯å·¥å…·
DEBUG=True

# 3. PostgreSQL è³‡æ–™åº«é€£ç·šè³‡è¨Š
# æ ¼å¼: postgres://USER:PASSWORD@HOST:PORT/NAME
DATABASE_URL='postgres://nexus_user:nexus_pass@db:5432/nexus_db'

# 4. Redis é€£ç·šè³‡è¨Š
REDIS_URL='redis://redis:6379/0'
```

**æ³¨æ„**: ä¸Šè¿°è³‡æ–™åº«å’Œ Redis çš„ `HOST` (`db`, `redis`) æ˜¯ Docker Compose å…§éƒ¨ç¶²è·¯çš„æœå‹™åç¨±ï¼Œåœ¨æœ¬æ©Ÿç’°å¢ƒä¸‹è«‹å‹¿ä¿®æ”¹ã€‚

### 3. å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨

åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„ä¸‹åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼š

```bash
docker-compose up --build
```

é€™å€‹æŒ‡ä»¤æœƒï¼š

- å»ºç½® Docker æ˜ åƒæª”ã€‚
- å•Ÿå‹• Djangoã€PostgreSQL å’Œ Redis æœå‹™ã€‚
- **è‡ªå‹•åŸ·è¡Œ**è³‡æ–™åº«é·ç§» (`migrate`) å’Œæ”¶é›†éœæ…‹æª”æ¡ˆ (`collectstatic`)ã€‚

æœå‹™å•Ÿå‹•å¾Œï¼Œæ‚¨å¯ä»¥é€éä»¥ä¸‹è·¯å¾‘è¨ªå•ï¼š

- **ç®¡ç†å¾Œå°**: `http://localhost:8888/admin/`
- **é è¨­è¶…ç´šç®¡ç†å“¡**:
  - **å¸³è™Ÿ**: `admin`
  - **å¯†ç¢¼**: `password`

---

## âœ¨ å¦‚ä½•çœ‹åˆ°è‡ªè¨‚å¡ç‰‡ (ä»¥ CRM ç‚ºä¾‹)

æœ¬å°ˆæ¡ˆå±•ç¤ºç­å¦‚ä½•åœ¨ Unfold Admin çš„åˆ—è¡¨é ä¸Šæ–¹æ·»åŠ è‡ªè¨‚çµ±è¨ˆå¡ç‰‡ã€‚

1.  **å»ºç«‹æ¨¡æ¿**: åœ¨ `apps/crm/templates/admin/crm/customer/` è·¯å¾‘ä¸‹ï¼Œæˆ‘å€‘å»ºç«‹äº†ä¸€å€‹ `stats_cards.html` æª”æ¡ˆï¼Œç”¨æ–¼å®šç¾©å¡ç‰‡çš„ HTML çµæ§‹ã€‚

2.  **æ›è¼‰æ¨¡æ¿**: åœ¨ `apps/crm/admin.py` çš„ `CustomerAdmin` ä¸­ï¼Œé€é `list_before_canvas` å±¬æ€§æŒ‡å®šè¦è¼‰å…¥çš„æ¨¡æ¿ï¼š

    ```python
    class CustomerAdmin(ModelAdmin):
        list_before_canvas = "admin/crm/customer/stats_cards.html"
        # ...
    ```

3.  **æ³¨å…¥æ•¸æ“š**: æˆ‘å€‘ä½¿ç”¨ Unfold æä¾›çš„ `get_list_before_canvas_context` hook ä¾†è¨ˆç®—æ•¸æ“šä¸¦å°‡å…¶å‚³éçµ¦æ¨¡æ¿ã€‚é€™ç¢ºä¿äº†å¡ç‰‡ä¸Šçš„æ•¸å­—æœƒéš¨è‘—ç¯©é¸æ¢ä»¶è€Œå‹•æ…‹è®ŠåŒ–ã€‚
    ```python
    # in apps/crm/admin.py
    def get_list_before_canvas_context(self, request):
        queryset = self.get_changelist_instance(request).get_queryset(request)
        # ... é€²è¡Œæ•¸æ“šèšåˆè¨ˆç®— ...
        return {
            "custom_dashboard_cards": [
                # ... å¡ç‰‡æ•¸æ“š ...
            ]
        }
    ```

ç™»å…¥å¾Œå°ä¸¦é€²å…¥ã€Œå®¢æˆ¶è³‡æ–™åº«ã€ï¼Œæ‚¨å°±å¯ä»¥åœ¨åˆ—è¡¨é ‚éƒ¨çœ‹åˆ°é€™äº›å‹•æ…‹çµ±è¨ˆå¡ç‰‡ã€‚

---

## ğŸš€ æœªä¾†æ“´å……æ¨¡çµ„

è¦ç‚º Nexus ERP æ·»åŠ ä¸€å€‹æ–°çš„æ¥­å‹™æ¨¡çµ„ï¼ˆä¾‹å¦‚ã€Œåº«å­˜ç®¡ç†ã€ï¼‰ï¼Œè«‹éµå¾ªä»¥ä¸‹æ­¥é©Ÿï¼š

1.  **å»ºç«‹æ–°æ‡‰ç”¨**:

    ```bash
    # é€²å…¥ Django å®¹å™¨
    docker-compose exec web bash

    # åœ¨å®¹å™¨å…§å»ºç«‹ä¸€å€‹åç‚º 'inventory' çš„æ–° app
    python manage.py startapp inventory apps/inventory
    ```

2.  **è¨»å†Šæ‡‰ç”¨**: åœ¨ `core/settings.py` çš„ `INSTALLED_APPS` åˆ—è¡¨ä¸­åŠ å…¥ `'apps.inventory'`ã€‚

3.  **å®šç¾©æ¨¡å‹**: åœ¨ `apps/inventory/models.py` ä¸­è¨­è¨ˆæ‚¨çš„è³‡æ–™åº«æ¨¡å‹ï¼ˆä¾‹å¦‚ `Product`, `Warehouse`ï¼‰ã€‚

4.  **å»ºç«‹ Admin ä»‹é¢**: åœ¨ `apps/inventory/admin.py` ä¸­ï¼Œç‚ºæ‚¨çš„æ¨¡å‹å»ºç«‹ `ModelAdmin` é¡åˆ¥ï¼Œä¸¦ä½¿ç”¨ `@admin.register()` é€²è¡Œè¨»å†Šã€‚

5.  **è³‡æ–™åº«é·ç§»**:
    ```bash
    docker-compose exec web python manage.py makemigrations inventory
    docker-compose exec web python manage.py migrate
    ```

å®Œæˆå¾Œï¼Œæ–°çš„ã€Œåº«å­˜ç®¡ç†ã€æ¨¡çµ„å°±æœƒå‡ºç¾åœ¨æ‚¨çš„ Admin å¾Œå°å´é‚Šæ¬„ä¸­ã€‚

---

### ğŸ“ æˆæ¬Š

æœ¬å°ˆæ¡ˆåŸºæ–¼ **MIT License** æˆæ¬Šã€‚
